{"version":3,"sources":["/source/c3_renderers.coffee","c3_renderers.min.js"],"names":["callWithJQuery","pivotModule","exports","module","require","define","amd","jQuery","$","makeC3Chart","chartType","pivotData","opts","agg","colKey","colKeys","columns","defaults","h","headers","i","j","len","len1","params","result","row","rowHeader","rowKey","rowKeys","localeStrings","vs","by","extend","getRowKeys","length","push","getColKeys","results","join","aggregatorName","getAggregator","value","bindto","size","height","window","width","axis","x","type","categories","data","c3","generate","pivotUtilities","c3_renderers","Line Chart C3","Bar Chart C3","call","this"],"mappings":"CAAA,WAAA,GAAAA,IAAAA,EAAiB,SAACC,GACd,MAAqB,gBAAlBC,UAAgD,gBAAjBC,QAC9BF,EAAYG,QAAQ,WACC,kBAAjBC,SAAgCA,OAAOC,IAC3CD,QAAQ,UAAWJ,GAGnBA,EAAYM,UAEL,SAACC,GAEZ,GAAAC,ECuEA,ODvEAA,GAAc,SAACC,GCKb,MDL2B,UAACC,EAAWC,GACrC,GAAAC,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,CAeA,KAfAZ,GACIa,eACIC,GAAI,KACJC,GAAI,OAEZpB,EAAOJ,EAAEyB,OAAOhB,EAAUL,GAE1BiB,EAAUlB,EAAUuB,aACiB,IAAlBL,EAAQM,QAA3BN,EAAQO,SACRrB,EAAUJ,EAAU0B,aACiB,IAAlBtB,EAAQoB,QAA3BpB,EAAQqB,SAERjB,EAAA,WCUE,GAAIC,GAAGE,EAAKgB,CAEZ,KDZSA,KAAAlB,EAAA,EAAAE,EAAAP,EAAAoB,OAAAb,EAAAF,EAAAA,ICaPF,EAAIH,EAAQK,GDbLkB,EAAAF,KAAAlB,EAAEqB,KAAK,KCgBhB,OAAOD,MDdTtB,KACAI,EAAA,EAAAE,EAAAO,EAAAM,OAAAb,EAAAF,EAAAA,IAAA,CAGI,ICcFQ,EAASC,EAAQT,GDhBfO,EAAYC,EAAOW,KAAK,KACxBb,GAAuB,KAAbC,EAAqBhB,EAAU6B,eAAoBb,GAC7DN,EAAA,EAAAE,EAAAR,EAAAoB,OAAAZ,EAAAF,EAAAA,ICkBAP,EAASC,EAAQM,GDjBbR,EAAMF,EAAU8B,cAAcb,EAAQd,GAElCY,EAAIU,KADL,MAAAvB,EAAA6B,QACU7B,EAAI6B,QACH,KAClB1B,GAAQoB,KAAKV,GAgBjB,MAdAD,GAASjB,EAAE,SACXgB,GACImB,OAAQlB,EAAO,GACfmB,MACIC,OAASrC,EAAEsC,QAAQD,SAAW,IAC9BE,MAAQvC,EAAEsC,QAAQC,QAAU,KAChCC,MAAMC,GACFC,KAAM,WACNC,WAAYhC,IAChBiC,MACIpC,QAASA,IACd,MAAAN,IACCc,EAAO4B,KAAKF,KAAOxC,GACvB2C,GAAGC,SAAS9B,GACLC,IAEXjB,EAAE+C,eAAeC,cACbC,gBAAiBhD,IACjBiD,eAAgBjD,EAAY,YCiCjCkD,KAAKC","file":"c3_renderers.min.js","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n        \ncallWithJQuery ($) ->\n\n    makeC3Chart = (chartType) -> (pivotData, opts) ->\n        defaults =\n            localeStrings:\n                vs: \"vs\"\n                by: \"by\"\n\n        opts = $.extend defaults, opts\n\n        rowKeys = pivotData.getRowKeys()\n        rowKeys.push [] if rowKeys.length == 0\n        colKeys = pivotData.getColKeys()\n        colKeys.push [] if colKeys.length == 0\n\n        headers = (h.join(\"-\") for h in colKeys)\n\n        columns = []\n        for rowKey in rowKeys\n            rowHeader = rowKey.join(\"-\")\n            row = [if rowHeader == \"\" then pivotData.aggregatorName else rowHeader]\n            for colKey in colKeys\n                agg = pivotData.getAggregator(rowKey, colKey)\n                if agg.value()?\n                    row.push agg.value()\n                else row.push null\n            columns.push row\n\n        result = $(\"<div>\")\n        params = \n            bindto: result[0]\n            size:\n                height: ($(window).height() / 1.4),\n                width: ($(window).width() / 1.4)\n            axis: x: \n                type: 'category',\n                categories: headers\n            data: \n                columns: columns\n        if chartType?\n            params.data.type = chartType\n        c3.generate params\n        return result\n\n    $.pivotUtilities.c3_renderers = \n        \"Line Chart C3\": makeC3Chart()\n        \"Bar Chart C3\": makeC3Chart(\"bar\")\n","(function(){var e;(e=function(e){return\"object\"==typeof exports&&\"object\"==typeof module?e(require(\"jquery\")):\"function\"==typeof define&&define.amd?define([\"jquery\"],e):e(jQuery)})(function(e){var t;return t=function(t){return function(n,r){var i,o,u,a,l,g,h,s,c,f,d,y,p,v,j,w,b;for(l={localeStrings:{vs:\"vs\",by:\"by\"}},r=e.extend(l,r),p=n.getRowKeys(),0===p.length&&p.push([]),u=n.getColKeys(),0===u.length&&u.push([]),h=function(){var e,t,n;for(n=[],e=0,t=u.length;t>e;e++)g=u[e],n.push(g.join(\"-\"));return n}(),a=[],v=0,w=p.length;w>v;v++){for(y=p[v],d=y.join(\"-\"),f=[\"\"===d?n.aggregatorName:d],j=0,b=u.length;b>j;j++)o=u[j],i=n.getAggregator(y,o),f.push(null!=i.value()?i.value():null);a.push(f)}return c=e(\"<div>\"),s={bindto:c[0],size:{height:e(window).height()/1.4,width:e(window).width()/1.4},axis:{x:{type:\"category\",categories:h}},data:{columns:a}},null!=t&&(s.data.type=t),c3.generate(s),c}},e.pivotUtilities.c3_renderers={\"Line Chart C3\":t(),\"Bar Chart C3\":t(\"bar\")}})}).call(this);\n//# sourceMappingURL=c3_renderers.min.js.map"],"sourceRoot":"/source/"}