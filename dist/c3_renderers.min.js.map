{"version":3,"sources":["/source/c3_renderers.coffee"],"names":[],"mappings":"CAAA,WAAA,GAAA,IAAA,EAAiB,SAAC,GACd,MAAqB,gBAAlB,UAAgD,gBAAjB,QAC9B,EAAY,QAAQ,WACC,kBAAjB,SAAgC,OAAO,IAC3C,QAAQ,UAAW,GAGnB,EAAY,UAEL,SAAC,GAEZ,GAAA,SAAA,GAAc,SAAC,oBAAA,MAAmB,SAAC,EAAW,GAC1C,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,CAeA,KAfA,GACI,eACI,GAAI,KACJ,GAAI,OAEZ,EAAO,EAAE,OAAO,EAAU,GAE1B,EAAU,EAAU,aACiB,IAAlB,EAAQ,QAA3B,EAAQ,SACR,EAAU,EAAU,aACiB,IAAlB,EAAQ,QAA3B,EAAQ,SAER,EAAA,yBAAW,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WAAA,EAAA,KAAA,EAAE,KAAK,kBAElB,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,IAAA,CAGI,WAFA,EAAY,EAAO,KAAK,KACxB,GAAuB,KAAb,EAAqB,EAAU,eAAoB,GAC7D,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WACI,EAAM,EAAU,cAAc,EAAQ,GAElC,EAAI,KADL,MAAA,EAAA,QACU,EAAI,QACH,KAClB,GAAQ,KAAK,GA8BjB,MA5BA,GAAa,EAAU,gBAChB,EAAU,SAAS,OAAa,IAAG,EAAU,SAAS,KAAK,MAAM,IAAQ,IAChF,EAAa,EAAU,SAAS,KAAK,KAErC,GACI,MACI,OAAS,EAAE,QAAQ,SAAW,IAC9B,MAAQ,EAAE,QAAQ,QAAU,KAChC,MACI,GACI,MAAO,GACX,GACI,MAAO,EACP,KAAM,WACN,WAAY,IACpB,MACI,QAAS,IACd,MAAA,EAAA,OACC,EAAO,KAAK,KAAO,EAAU,MAC9B,MAAA,EAAA,UACC,EAAO,KAAK,iCAAU,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,WAAA,EAAA,KAAA,EAAE,KAAK,oBAEjC,EAAa,EAAE,SAAS,MAAO,kBAAiB,SAAS,EAAE,SAC3D,EAAS,EAAE,SAAS,SAAS,GAC7B,EAAO,OAAS,EAAO,GACvB,GAAG,SAAS,GACZ,EAAO,SACP,EAAW,SACJ,IAEX,EAAE,eAAe,cACb,aAAc,IACd,YAAa,GAAY,KAAM,QAC/B,oBAAqB,GAAY,KAAM,MAAO,SAAS,IACvD,aAAc,GAAY,KAAM,OAAQ,SAAS","file":"c3_renderers.min.js","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n        \ncallWithJQuery ($) ->\n\n    makeC3Chart = (chartOpts = {}) -> (pivotData, opts) ->\n        defaults =\n            localeStrings:\n                vs: \"vs\"\n                by: \"by\"\n\n        opts = $.extend defaults, opts\n\n        rowKeys = pivotData.getRowKeys()\n        rowKeys.push [] if rowKeys.length == 0\n        colKeys = pivotData.getColKeys()\n        colKeys.push [] if colKeys.length == 0\n\n        headers = (h.join(\"-\") for h in colKeys)\n\n        columns = []\n        for rowKey in rowKeys\n            rowHeader = rowKey.join(\"-\")\n            row = [if rowHeader == \"\" then pivotData.aggregatorName else rowHeader]\n            for colKey in colKeys\n                agg = pivotData.getAggregator(rowKey, colKey)\n                if agg.value()?\n                    row.push agg.value()\n                else row.push null\n            columns.push row\n\n        vAxisTitle = pivotData.aggregatorName+ \n            if pivotData.valAttrs.length then \"(#{pivotData.valAttrs.join(\", \")})\" else \"\"\n        hAxisTitle = pivotData.colAttrs.join(\"-\")\n\n        params = \n            size:\n                height: ($(window).height() / 1.4),\n                width: ($(window).width() / 1.4)\n            axis: \n                y: \n                    label: vAxisTitle\n                x: \n                    label: hAxisTitle\n                    type: 'category',\n                    categories: headers\n            data: \n                columns: columns\n        if chartOpts.type?\n            params.data.type = chartOpts.type\n        if chartOpts.stacked?\n            params.data.groups = [x.join(\"-\") for x in rowKeys]\n\n        renderArea = $(\"<div>\", style: \"display:none;\").appendTo $(\"body\")\n        result = $(\"<div>\").appendTo renderArea\n        params.bindto = result[0]\n        c3.generate params\n        result.detach()\n        renderArea.remove()\n        return result\n\n    $.pivotUtilities.c3_renderers = \n        \"Line Chart\": makeC3Chart()\n        \"Bar Chart\": makeC3Chart(type: \"bar\")\n        \"Stacked Bar Chart\": makeC3Chart(type: \"bar\", stacked: true)\n        \"Area Chart\": makeC3Chart(type: \"area\", stacked: true)\n"],"sourceRoot":"/source/"}