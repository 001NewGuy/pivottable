{"version":3,"sources":["export_renderers.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA,cAAA;;AAAA,EAAA,cAAA,GAAiB,SAAC,WAAD,GAAA;AACb,IAAA,IAAG,MAAA,CAAA,OAAA,KAAkB,QAAlB,IAA+B,MAAA,CAAA,MAAA,KAAiB,QAAnD;aACI,WAAA,CAAY,OAAA,CAAQ,QAAR,CAAZ,EADJ;KAAA,MAEK,IAAG,MAAA,CAAA,MAAA,KAAiB,UAAjB,IAAgC,MAAM,CAAC,GAA1C;aACD,MAAA,CAAO,CAAC,QAAD,CAAP,EAAmB,WAAnB,EADC;KAAA,MAAA;aAID,WAAA,CAAY,MAAZ,EAJC;KAHQ;EAAA,CAAjB,CAAA;;AAAA,EASA,cAAA,CAAe,SAAC,CAAD,GAAA;WAEX,CAAC,CAAC,cAAc,CAAC,gBAAjB,GAAoC;AAAA,MAAA,GAAA,EAAK,SAAC,SAAD,EAAY,IAAZ,GAAA;AACrC,YAAA,sFAAA;AAAA,QAAA,QAAA,GACI;AAAA,UAAA,aAAA,EAAe,EAAf;SADJ,CAAA;AAAA,QAGA,IAAA,GAAO,CAAC,CAAC,MAAF,CAAS,QAAT,EAAmB,IAAnB,CAHP,CAAA;AAAA,QAMA,MAAA,GAAS,EANT,CAAA;AAQA;AAAA,aAAA,2CAAA;6BAAA;AACI;AAAA,eAAA,8CAAA;gCAAA;AACI,YAAA,MAAA,IAAU,GAAV,CADJ;AAAA,WAAA;AAAA,UAEA,MAAA,IAAU,OAAA,GAAU,GAFpB,CADJ;AAAA,SARA;AAAA,QAYA,MAAA,IAAU,SAAS,CAAC,QAAQ,CAAC,QAAnB,CAAA,CAAA,GAAgC,IAZ1C,CAAA;AAAA,QAaA,MAAA,IAAU,SAAS,CAAC,QAAQ,CAAC,QAAnB,CAAA,CAAA,GAAgC,IAb1C,CAAA;AAAA,QAeA,OAAA,GAAU,SAAS,CAAC,UAAV,CAAA,CAfV,CAAA;AAgBA,QAAA,IAAmB,OAAO,CAAC,MAAR,KAAkB,CAArC;AAAA,UAAA,OAAO,CAAC,IAAR,CAAa,EAAb,CAAA,CAAA;SAhBA;AAAA,QAiBA,OAAA,GAAU,SAAS,CAAC,UAAV,CAAA,CAjBV,CAAA;AAkBA,QAAA,IAAmB,OAAO,CAAC,MAAR,KAAkB,CAArC;AAAA,UAAA,OAAO,CAAC,IAAR,CAAa,EAAb,CAAA,CAAA;SAlBA;AAoBA,eAAO,CAAA,CAAE,+CAAF,CAAkD,CAAC,IAAnD,CAAwD,MAAxD,CAAP,CArBqC;MAAA,CAAL;MAFzB;EAAA,CAAf,CATA,CAAA;AAAA","file":"export_renderers.js","sourceRoot":"/source/","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n        \ncallWithJQuery ($) ->\n\n    $.pivotUtilities.export_renderers = CSV: (pivotData, opts) ->\n        defaults =\n            localeStrings: {}\n\n        opts = $.extend defaults, opts\n\n\n        result = \"\"\n\n        for colAttr in pivotData.colAttrs\n            for rowAttr in pivotData.rowAttrs\n                result += \",\" #spacer for row header\n            result += colAttr + \",\" #spacer for row header\n        result += pivotData.rowAttrs.toString() + \"\\n\"\n        result += pivotData.colAttrs.toString() + \"\\n\"\n\n        rowKeys = pivotData.getRowKeys()\n        rowKeys.push [] if rowKeys.length == 0\n        colKeys = pivotData.getColKeys()\n        colKeys.push [] if colKeys.length == 0\n        \n        return $(\"<textarea style='width: 100%; height: 100%;'>\").text(result)\n    \n\n\n"]}